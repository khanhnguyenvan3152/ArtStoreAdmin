<link href="https://cdn.quilljs.com/1.2.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.2.6/quill.js"></script>

<% if (typeof message != 'undefined') { 
    if (message == "Failed")
    {  %>
        <div class="alert alert-dismissable bg-red">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
            <%= message %>
        </div>
    <% } else 
    { %>
        <div class="alert alert-dismissable bg-green">
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>
            <%= message %>
        </div>
    <%}}; %>
<div class="row clearfix">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="card">
            <div class="header">
                <h2>ADD NEW </h2>
                <ul class="header-dropdown m-r--5">
                    <li class="dropdown">
                        <a href="javascript:void(0);" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
                            <i class="material-icons">more_vert</i>
                        </a>
                        <ul class="dropdown-menu pull-right">
                            <li><a href="javascript:void(0);">Action</a></li>
                            <li><a href="javascript:void(0);">Another action</a></li>
                            <li><a href="javascript:void(0);">Something else here</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="body">
                <form id="form_advanced_validation" action="/product/add" method="POST" enctype="multipart/form-data">
                    <div class="form-group form-float">
                        <div class="form-line">
                            <input type="text" class="form-control" value="" name="productname" required>
                            <label class="form-label">Tên sản phẩm</label>
                        </div>
                        <div class="help-info"></div>
                    </div>
                    <div class="form-group form-float">
                        <div class="form-line">
                            <input type="text" class="form-control" value="" name="productcode" required>
                            <label class="form-label">Mã sản phẩm</label>
                        </div>
                        <div class="help-info"></div>
                    </div>
                    <div class="form-group form-float">
                        <div class="form-line">
                            <input type="text" class="form-control" value="" name="quantity" required>
                            <label class="form-label">Số lượng</label>
                        </div>
                        <div class="help-info"></div>
                    </div>
                    <div class="form-group form-float">
                        <div class="form-line">
                            <input type="text" class="form-control" value="" name="price" required>
                            <label class="form-label">Đơn giá</label>
                        </div>
                        <div class="help-info"></div>
                    </div>
                    <% const listSelect=[
                        {
                            group: {name: "bút",alias:"but"},
                            type: [
                                { name:"bút line",alias:"but-line"},
                                { name:"bút calligraphy",alias:"but-calligraphy"},
                                { name:"bút gel mực trắng",alias:"but-gel-muc-trang"},
                                { name:"bút dạ quang",alias:"but-da-quang"},
                                { name:"bút sơn",alias:"but-son"},
                                { name:"bút sắt, mực vẽ",alias:"muc-ve"},
                                ]
                            },
                            {
                                group: {name:"màu mực",alias:"mau-muc"},
                                type: [
                                    { name:"màu nước",alias:"mau-nuoc"},
                                    { name:"màu gouache",alias:"mau-gouache"},
                                    { name:"màu acrylic",alias:"mau-acrylic"},
                                    { name:"màu poster",alias:"mau-poster"},
                                    { name:"phấn tiên",alias:"phan-tien"}
                                    ]
                            },
                            {
                                group: {name:"chì màu",alias:"chi-mau"},
                                type: [
                                    { name:"chì màu khô",alias:"chi-mau-kho"},
                                    { name:"chì màu nước",alias:"chi-mau-nuoc"},
                                    ]
                            }
                        ] %>
                    <div class="form-group form-float">
                        <div class="form-line" style="text-transform: capitalize;">
                            <label for="selectgroup">Thể loại</label>
                            <select id="myselect" style="text-transform: capitalize;" name="grouptype" class="myselect">
                               <% listSelect.forEach(optiongroup =>{%>
                                    <optgroup style="text-transform: capitalize;"  label=<%=optiongroup.group.name%>>
                                    <% optiongroup.type.forEach(option =>{ let value = optiongroup.group.alias +'|'+ option.alias ; %>
                                        <option style="text-transform: capitalize;" value=<%= value %>><%=option.name%></option>
                                    <%})%>
                                    </optgroup>
                               <%})%>
                            </select>
                    </div>
                    </div>
                    <div class="row clearfix">
                        <div class="form-group form-float">
                            <div class="col-sm-4">
                                <div class="form-line">
                                    <input type="text" class="form-control" value="" name="width">
                                    <label class="form-label">Chiều dài</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-line">
                                    <input type="text" class="form-control" value="" name="height">
                                    <label class="form-label">Chiều cao</label>
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <div class="form-line">
                                    <input type="text" class="form-control" value="" name="weight">
                                    <label class="form-label">Khối lượng</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group form-float">
                        <div class="form-line">
                            <label class="">Màu sắc</label>
                            <input type="checkbox" id="md_checkbox_21" name="checklist[]" value="red" class="filled-in chk-col-red"/>
                            <label for="md_checkbox_21">RED</label>
                            <input type="checkbox" id="md_checkbox_22" name="checklist[]" value="pink" class="filled-in chk-col-pink"/>
                            <label for="md_checkbox_22">PINK</label>
                            <input type="checkbox" id="md_checkbox_23" name="checklist[]" value="purple" class="filled-in chk-col-purple"/>
                            <label for="md_checkbox_23">PURPLE</label>
                            <input type="checkbox" id="md_checkbox_24" name="checklist[]" value="deep-purple" class="filled-in chk-col-deep-purple"/>
                            <label for="md_checkbox_24">DEEP PURPLE</label>
                            <input type="checkbox" id="md_checkbox_25" name="checklist[]" value="indigo" class="filled-in chk-col-indigo"/>
                            <label for="md_checkbox_25">INDIGO</label>         
                            <input type="checkbox" id="md_checkbox_26" name="checklist[]" value="black" class="filled-in chk-col-black"/>
                            <label for="md_checkbox_26">BLACK</label>                        
                        </div>
                    </div>
                  
                    <div class="row clearfix">
                        <div class="form-group form-float">
                            <div class="col-sm-12">
                                <div class="form-line">
                                    <div id="editor" style="height: 300px;">

                                    </div>
                                </div>
                            </div>
                            <input type="text" style="display: none;" name="description">
                        </div>
                    </div>
                    <div class="row clearfix">
                        <div class="from-group form-float">
                            <div class="col-sm-12">
                                <div class="form-line">
                                    <label class="form-label">Ảnh</label>
                                    <input type="file" class="form-control" name="image" value="">
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary waves-effect" onclick="formatField()"  type="submit">SUBMIT</button>
                    </div>
                   
                  
                </form>
            </div>
        </div>
    </div>
</div>


<script>
    var toolbarOptions = [
        ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
        ['blockquote', 'code-block'],

        [{ 'header': 1 }, { 'header': 2 }],               // custom button values
        [{ 'list': 'ordered'}, { 'list': 'bullet' }],
        [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript
        [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent
        [{ 'direction': 'rtl' }],                         // text direction

        [{ 'size': ['small', false, 'large', 'huge'],'selected':'small'}],  // custom dropdown  // dropdown with defaults from theme
        [{ 'align': [false,'center','right'], selected:false }],
                               // remove formatting button
    ];

        var quill = new Quill('#editor', {
        modules: {
            toolbar: toolbarOptions
        },
        theme: 'snow'
        });
   
 


    function formatField(){
      var editor = document.querySelector(".ql-editor").contentEditable = false;
      var clipboard = document.querySelector(".ql-clipboard").contentEditable = false;
      var bar = document.querySelector("input[type=text]").type="hidden"
      var p = document.querySelector("#editor");
      var myInput = document.querySelector("input[name=description]");
      myInput.value = p.innerHTML;
    }
   
  </script> 